RetestBrowseScreen As screen:
    Fill: =AppTheme.palette.themeScreenBackground
    LoadingSpinnerColor: =App.Theme.Colors.Primary
    OnVisible: |
        =UpdateContext(
            {
                varFinalDate: DateAdd(Today(), 365, TimeUnit.Days),
                varRetestDate: DateAdd(Today(), 120,TimeUnit.Days),
                varMinDate: DateAdd(Today(), -30, TimeUnit.Days)
            }
        );
        ClearCollect(colRetestList,
            ForAll(
                GroupBy(
                    AddColumns(
                        Filter(
                            Substances,
                            Retest1 <= varRetestDate Or Retest2 <= varRetestDate Or Retest3 <= varRetestDate Or Retest4 <= varRetestDate Or Retest5 <= varRetestDate
                        ),
                        RetestDate,
                        If(
                            !IsBlank(ThisRecord.Retest5) && ThisRecord.Retest5 <= varRetestDate,
                            Text(ThisRecord.Retest5),
                            !IsBlank(ThisRecord.Retest4) && ThisRecord.Retest4 <= varRetestDate,
                            Text(ThisRecord.Retest4),
                            !IsBlank(ThisRecord.Retest3) && ThisRecord.Retest3 <= varRetestDate,
                            Text(ThisRecord.Retest3),
                            !IsBlank(ThisRecord.Retest2) && ThisRecord.Retest2 <= varRetestDate,
                            Text(ThisRecord.Retest2),
                            !IsBlank(ThisRecord.Retest1) && ThisRecord.Retest1 <= varRetestDate,
                            Text(ThisRecord.Retest1)
                        )
                    ),
                    Title,
                    grpRetest
                ),
                First(grpRetest)
            )
        );
        ClearCollect(
            FirstItemsCollection,
            ForAll(
                GroupBy(
                    Filter(Substances, FinalTest <= varFinalDate && FinalTest >= varMinDate),
                    Title,
                    grpFinal
                ),
                First(grpFinal)
            )
        );


    conMainScreen_2 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Height: =Parent.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        PaddingRight: =0.00
        PaddingTop: =0.00
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        X: =0.00
        ZIndex: =1

        conMainScreenHeader_2 As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            FillPortions: =0
            Height: =65
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =70
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingRight: =0.00
            PaddingTop: =0.00
            Width: =Parent.Width
            X: =0.00
            ZIndex: =1

            conMainScreenHeaderBar_2 As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =App.Theme.Colors.Primary
                FillPortions: =0
                Height: =Parent.Height
                LayoutMinHeight: =50
                LayoutMinWidth: =Parent.LayoutMinWidth
                LayoutMode: =LayoutMode.Auto
                PaddingRight: =0.00
                PaddingTop: =0.00
                Width: =Parent.Width
                X: =0.00
                ZIndex: =2

                LblAppName1_2 As label:
                    BorderColor: =App.Theme.Colors.Darker40
                    Color: =AppTheme.palette.themeLightText
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisplayMode: =DisplayMode.View
                    FillPortions: =15
                    Font: =App.Theme.Font
                    FontWeight: =FontWeight.Semibold
                    Height: =Parent.Height
                    LayoutMinHeight: =Parent.LayoutMinHeight
                    PaddingLeft: =25
                    Size: =AppTheme.textsize.themeHeader
                    Text: ="Retest dates"
                    Width: =0.00
                    Wrap: =false
                    X: =0.00
                    ZIndex: =3

        conMainScreenContent_2 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            FillPortions: =12
            LayoutMinHeight: =100
            LayoutMinWidth: =
            LayoutMode: =LayoutMode.Auto
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width
            X: =0.00
            ZIndex: =4

            conMainScreenSideBarRef_2 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Semibold
                FillPortions: =2
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =12
                LayoutMinHeight: =Parent.LayoutMinHeight
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =12
                PaddingRight: =12
                PaddingTop: =24
                Width: =350
                X: =0.00
                ZIndex: =5

                conlblNewRequisition_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =AppTheme.palette.themeButtonComplementary
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =50
                    LayoutMinWidth: =200
                    RadiusBottomLeft: =10  
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =Parent.Width
                    ZIndex: =1

                    icoAddNewItemReq_7 As icon.Add:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.themeLightText
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =Parent.Height
                        Icon: =Icon.Add
                        OnSelect: =Select(btnNewRequisitionRetest)
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Width: =Parent.Height
                        ZIndex: =1

                    Label8_6 As label:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.themeLightText
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =Parent.Height
                        PaddingLeft: =12
                        PaddingTop: =2
                        Size: =AppTheme.textsize.themeTitle2
                        Text: ="New Requisition"
                        Width: =Parent.Width - icoAddNewItemReq_7.Width
                        X: =icoAddNewItemReq_7.Width
                        ZIndex: =2

                    btnNewRequisitionRetest As button:
                        Align: =Align.Left
                        BorderColor: =Self.Fill
                        BorderThickness: =4
                        Color: =AppTheme.palette.themeLightText
                        DisabledBorderColor: =Self.Fill
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0,0,0,0)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        HoverBorderColor: =AppTheme.palette.themeButtonComplementaryDarker
                        HoverColor: =AppTheme.palette.themeDarkText
                        HoverFill: =ColorFade(AppTheme.palette.themeBackground, 90%)
                        OnSelect: |-
                            =NewForm(formNewRequisition); Navigate(NewScreenRequisition, Transition.None); Set(varEditReq, false); UpdateContext({varResetRetest: true})
                        PressedBorderColor: =AppTheme.palette.white
                        PressedColor: =AppTheme.palette.themeLightText
                        PressedFill: =RGBA(0, 0, 0, 0)
                        Size: =AppTheme.textsize.themeText
                        Text: =""
                        Width: =Parent.Width
                        ZIndex: =3

                conLblNewSubstance_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =AppTheme.palette.themeButton
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =50
                    LayoutMinWidth: =200
                    RadiusBottomLeft: =10  
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =Parent.Width
                    ZIndex: =2

                    icoAddNewItemSub As icon.Add:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.themeLightText
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =Parent.Height
                        Icon: =Icon.Add
                        OnSelect: =Select(btnNewSubstanceRetest)
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Width: =Parent.Height
                        ZIndex: =1

                    Label8_5 As label:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.themeLightText
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =Parent.Height
                        PaddingLeft: =12
                        PaddingTop: =2
                        Size: =AppTheme.textsize.themeTitle2
                        Text: ="New Substance"
                        Width: =Parent.Width - icoAddNewItemSub.Width
                        X: =icoAddNewItemReq_7.Width
                        ZIndex: =2

                    btnNewSubstanceRetest As button:
                        Align: =Align.Left
                        BorderColor: =Self.Fill
                        BorderThickness: =4
                        Color: =AppTheme.palette.themeLightText
                        DisabledBorderColor: =Self.Fill
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0,0,0,0)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        HoverBorderColor: =AppTheme.palette.themeButton
                        HoverColor: =AppTheme.palette.themeDarkText
                        HoverFill: =ColorFade(AppTheme.palette.themeBackground, 90%)
                        OnSelect: |-
                            =NewForm(formEditSubstance); Navigate(EditScreenSubstance, Transition.None); UpdateContext({varResetRetest: true})
                        PaddingTop: =2
                        PressedBorderColor: =AppTheme.palette.white
                        PressedColor: =AppTheme.palette.themeLightText
                        PressedFill: =RGBA(0, 0, 0, 0)
                        Size: =AppTheme.textsize.themeText
                        Text: =""
                        Width: =Parent.Width
                        ZIndex: =3

                "BarcodeReader1_2 As 'Barcode Reader'":
                    AlignInContainer: =AlignInContainer.Stretch
                    BarcodeType: ='BarcodeReader.BarcodeType'.Code39
                    BorderFillColor: =AppTheme.palette.themeButton
                    BorderRadius: =10
                    BorderThickness: =0
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledContentColor: =RGBA(166, 166, 166, 1)
                    DisabledFillColor: =RGBA(244, 244, 244, 1)
                    DisplayMode: =DisplayMode.Edit
                    FillColor: =AppTheme.palette.themeButtonComplementarySecondary
                    FontSize: =AppTheme.textsize.themeTitle2
                    FontWeight: ="200"
                    Height: =50
                    HoverBorderColor: =AppTheme.palette.themeButton
                    HoverContentColor: =RGBA(255, 255, 255, 1)
                    HoverFillColor: =ColorFade(AppTheme.palette.themeButtonComplementarySecondary, 20%)
                    LayoutMinHeight: =50
                    LayoutMinWidth: =Parent.LayoutMinWidth + 2
                    OnCancel: =Back()
                    OnScan: |-
                        =Navigate(
                            DetailScreenSubstance,
                            Transition.None,
                            {
                                displayItem: LookUp(
                                    Substances,
                                    ID = Value(First(BarcodeReader1_2.Barcodes).Value)
                                )
                            }
                        )
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    PressedBorderColor: =RGBA(56, 96, 178, 1)
                    PressedContentColor: =RGBA(56, 96, 178, 1)
                    PressedFillColor: =RGBA(255, 255, 255, 1)
                    ScanningMode: ='BarcodeReader.ScanningMode'.AutomaticallyScan
                    TextColor: =RGBA(255, 255, 255, 1)
                    VerticalAlign: =VerticalAlign.Middle
                    Width: =Parent.Width
                    X: =0
                    Y: =0
                    ZIndex: =3

                conLblSubstanceList_1 As groupContainer.manualLayoutContainer:
                    BorderColor: =AppTheme.palette.themeButton
                    BorderThickness: =3
                    DropShadow: =DropShadow.Light
                    Fill: =AppTheme.palette.themeBackground
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =50
                    LayoutMinWidth: =200
                    RadiusBottomLeft: =10  
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =Parent.Width
                    ZIndex: =4

                    icoAddNewItemReq_8 As icon.Add:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.black
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =Parent.Height
                        Icon: =Icon.Folder
                        OnSelect: =Select(btnSubstanceListRetest)
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Width: =Parent.Height
                        ZIndex: =1

                    Label8_7 As label:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.black
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =Parent.Height
                        PaddingLeft: =12
                        PaddingTop: =2
                        Size: =AppTheme.textsize.themeTitle2
                        Text: ="Substances"
                        Width: =Parent.Width - icoAddNewItemReq_8.Width
                        X: =icoAddNewItemReq_7.Width
                        ZIndex: =2

                    btnSubstanceListRetest As button:
                        Align: =Align.Left
                        BorderColor: =Self.Fill
                        Color: =AppTheme.palette.themeLightText
                        DisabledBorderColor: =Self.Fill
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0,0,0,0)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        HoverBorderColor: =AppTheme.palette.themeButton
                        HoverColor: =AppTheme.palette.themeDarkText
                        HoverFill: =ColorFade(AppTheme.palette.themeBackground, -10%)
                        OnSelect: |-
                            =Navigate(ReferenceBrowseScreen, Transition.None); UpdateContext({varResetRetest: true})
                        PressedBorderColor: =AppTheme.palette.white
                        PressedColor: =AppTheme.palette.themeLightText
                        PressedFill: =RGBA(0, 0, 0, 0)
                        Size: =AppTheme.textsize.themeText
                        Text: =""
                        Width: =Parent.Width
                        ZIndex: =3

                conLblRequisitionList_1 As groupContainer.manualLayoutContainer:
                    BorderColor: =AppTheme.palette.themeButton
                    BorderThickness: =3
                    DropShadow: =DropShadow.Light
                    Fill: =AppTheme.palette.themeBackground
                    FillPortions: =0
                    Height: =50
                    LayoutMinHeight: =50
                    LayoutMinWidth: =200
                    RadiusBottomLeft: =10  
                    RadiusBottomRight: =10
                    RadiusTopLeft: =10
                    RadiusTopRight: =10
                    Width: =Parent.Width
                    ZIndex: =5

                    icoAddNewItemReq_9 As icon.Add:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.black
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =Parent.Height
                        Icon: =Icon.Folder
                        OnSelect: =Select(btnRequisitionListRetest)
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        Width: =Parent.Height
                        ZIndex: =1

                    Label8_8 As label:
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =AppTheme.palette.black
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =Parent.Height
                        PaddingLeft: =12
                        PaddingTop: =2
                        Size: =AppTheme.textsize.themeTitle2
                        Text: ="Requisitions"
                        Width: =Parent.Width - icoAddNewItemReq_9.Width
                        X: =icoAddNewItemReq_7.Width
                        ZIndex: =2

                    btnRequisitionListRetest As button:
                        Align: =Align.Left
                        BorderColor: =Self.Fill
                        Color: =AppTheme.palette.themeLightText
                        DisabledBorderColor: =Self.Fill
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0,0,0,0)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        HoverBorderColor: =AppTheme.palette.themeButton
                        HoverColor: =AppTheme.palette.themeDarkText
                        HoverFill: =ColorFade(AppTheme.palette.themeBackground, -10%)
                        OnSelect: |-
                            =Navigate(RequisitionBrowseScreen, Transition.None); UpdateContext({varResetRetest: true})
                        PressedBorderColor: =AppTheme.palette.white
                        PressedColor: =AppTheme.palette.themeLightText
                        PressedFill: =RGBA(0, 0, 0, 0)
                        Size: =AppTheme.textsize.themeText
                        Text: =""
                        Width: =Parent.Width
                        ZIndex: =3

            conMainScreenMainContent_2 As groupContainer.verticalAutoLayoutContainer:
                FillPortions: =12
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =24
                PaddingLeft: =24
                PaddingRight: =24
                PaddingTop: =24
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =0.00
                X: =0.00
                ZIndex: =18

                conGalleryView_1 As groupContainer.horizontalAutoLayoutContainer:
                    LayoutGap: =24
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =19

                    conGalleryRetest_1 As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =20

                        conMainScreenTitleBar_4 As groupContainer.horizontalAutoLayoutContainer:
                            BorderColor: =AppTheme.palette.themeHeader
                            BorderThickness: =1
                            Fill: =AppTheme.palette.themeTitleBar
                            FillPortions: =0
                            Height: =60
                            LayoutAlignItems: =LayoutAlignItems.End
                            LayoutGap: =12
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingRight: =0.00
                            PaddingTop: =0.00
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =0.00
                            X: =0.00
                            ZIndex: =21

                            lblMainScreenTitleNameRef_4 As label:
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                PaddingLeft: =12
                                Size: =AppTheme.textsize.themeTitle
                                Text: ="Upcoming retest dates"
                                Width: =563.34
                                X: =0.00
                                ZIndex: =22

                        conGalleryRetestHeader_1 As groupContainer.horizontalAutoLayoutContainer:
                            BorderColor: =AppTheme.palette.themeButton
                            BorderThickness: =1
                            Fill: =AppTheme.palette.themeBackground
                            FillPortions: =0
                            Height: =50
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingRight: =0.00
                            PaddingTop: =0.00
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =Parent.Width
                            X: =0.00
                            ZIndex: =23

                            lblHeaderNameRetest_2 As label:
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                LayoutMinWidth: =200
                                PaddingLeft: =12
                                Size: =AppTheme.textsize.themeTitle2
                                Text: ="Name"
                                Width: =300
                                ZIndex: =24

                            lblHeaderBatchRetest_2 As label:
                                Align: =Align.Center
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                LayoutMinWidth: =200
                                Size: =AppTheme.textsize.themeTitle2
                                Text: ="Batch"
                                Width: =200
                                ZIndex: =25

                            lblHeaderRetest_2 As label:
                                Align: =Align.Right
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                LayoutMinWidth: =200
                                PaddingRight: =12
                                Size: =AppTheme.textsize.themeTitle2
                                Text: ="Retest"
                                Width: =250
                                ZIndex: =26

                        "glrSubstanceListRetest_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            BorderColor: =AppTheme.palette.themeHeader
                            BorderThickness: =1
                            DelayItemLoading: =true
                            Fill: =AppTheme.palette.white
                            FillPortions: =12
                            Items: |+
                                =Sort(colRetestList, RetestDate, SortOrder.Descending)
                                
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =287
                            LayoutMinWidth: =Parent.LayoutMinWidth
                            LoadingSpinner: =LoadingSpinner.Data
                            OnSelect: |
                                =Navigate(DetailScreenSubstance, Transition.None, {displayItem: LookUp(Substances, ID = glrSubstanceListRetest_1.Selected.ID)})
                            TemplatePadding: =0
                            TemplateSize: =50
                            Width: =0.00
                            X: =0.00
                            ZIndex: =27

                            NextArrow1_2 As icon.ChevronRight:
                                AccessibleLabel: =Self.Tooltip
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(166, 166, 166, 1)
                                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                DisabledColor: =RGBA(244, 244, 244, 1)
                                Height: =Parent.TemplateHeight
                                Icon: =Icon.ChevronRight
                                OnSelect: =Select(Parent)
                                PaddingBottom: =15
                                PaddingLeft: =15
                                PaddingRight: =15
                                PaddingTop: =15
                                Tooltip: ="View substance testprogram"
                                Width: =1
                                ZIndex: =28

                            lblSubstanceRetest_2 As label:
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Parent.TemplateHeight
                                OnSelect: =Select(Parent)
                                PaddingLeft: =12
                                Size: =AppTheme.textsize.themeText
                                Text: =ThisItem.Name
                                Width: =300
                                ZIndex: =29

                            Rectangle1_4 As rectangle:
                                BorderColor: =App.Theme.Colors.Darker40
                                Fill: =RGBA(32, 54, 71, 1)
                                Height: =Parent.TemplateHeight - Separator1_2.Height
                                OnSelect: =Select(Parent)
                                Visible: =ThisItem.IsSelected
                                Width: =1
                                X: =0.00
                                ZIndex: =30

                            lblBatchRetest_2 As label:
                                Align: =Align.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Parent.TemplateHeight
                                OnSelect: =Select(Parent)
                                Size: =AppTheme.textsize.themeText
                                Text: =ThisItem.Batch
                                Width: =200
                                X: =lblSubstanceRetest_2.Width
                                ZIndex: =31

                            lblRetestDate_2 As label:
                                Align: =Align.Right
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                Height: =Parent.TemplateHeight
                                OnSelect: =Select(Parent)
                                Size: =AppTheme.textsize.themeText
                                Text: =Text(DateValue(ThisItem.RetestDate), "yyyy-mm-dd")
                                Width: =250
                                X: =lblSubstanceRetest_2.Width + lblBatchRetest_2.Width
                                ZIndex: =32

                            Separator1_2 As rectangle:
                                BorderColor: =App.Theme.Colors.Darker40
                                Fill: =AppTheme.palette.themeTitleBar
                                Height: =2
                                OnSelect: =Select(Parent)
                                Width: =Parent.Width
                                X: =0.00
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =33

                    conGalleryFinalTest_1 As groupContainer.verticalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =34

                        conMainScreenTitleBar_2 As groupContainer.horizontalAutoLayoutContainer:
                            BorderColor: =AppTheme.palette.themeHeader
                            BorderThickness: =1
                            Fill: =AppTheme.palette.themeTitleBar
                            FillPortions: =0
                            Height: =60
                            LayoutAlignItems: =LayoutAlignItems.End
                            LayoutGap: =12
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingRight: =0.00
                            PaddingTop: =0.00
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =0.00
                            X: =0.00
                            ZIndex: =35

                            lblMainScreenTitleNameRef_2 As label:
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                PaddingLeft: =12
                                Size: =AppTheme.textsize.themeTitle
                                Text: ="Upcoming final test"
                                Width: =563.34
                                X: =0.00
                                ZIndex: =36

                        conGalleryFinalTestHeader_1 As groupContainer.horizontalAutoLayoutContainer:
                            BorderColor: =AppTheme.palette.themeButton
                            BorderThickness: =1
                            Fill: =AppTheme.palette.themeBackground
                            FillPortions: =0
                            Height: =50
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingRight: =0.00
                            PaddingTop: =0.00
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =0.00
                            X: =0.00
                            ZIndex: =37

                            lblHeaderNameRetest_3 As label:
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                LayoutMinWidth: |
                                    =200
                                PaddingLeft: =12
                                Size: =AppTheme.textsize.themeTitle2
                                Text: ="Name"
                                Width: =300
                                X: =0.00
                                ZIndex: =38

                            lblHeaderBatchRetest_3 As label:
                                Align: =Align.Center
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                LayoutMinWidth: =200
                                Size: =AppTheme.textsize.themeTitle2
                                Text: ="Batch"
                                Width: =200
                                X: =0.00
                                ZIndex: =39

                            lblHeaderRetest_3 As label:
                                Align: =Align.Right
                                AlignInContainer: =AlignInContainer.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =AppTheme.palette.themeDarkText
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisplayMode: =DisplayMode.View
                                Font: =App.Theme.Font
                                FontWeight: =FontWeight.Semibold
                                Height: =Parent.Height
                                LayoutMinWidth: =200
                                PaddingRight: =12
                                Size: =AppTheme.textsize.themeTitle2
                                Text: ="Final test"
                                Width: =250
                                X: =0.00
                                ZIndex: =40

                        "glrSubstanceListFinaltest_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                            BorderColor: =AppTheme.palette.themeHeader
                            BorderThickness: =1
                            DelayItemLoading: =true
                            Fill: =AppTheme.palette.white
                            FillPortions: =12
                            Items: =Sort(FirstItemsCollection, FinalTest, SortOrder.Ascending)
                            Layout: =Layout.Vertical
                            LayoutMinHeight: =287
                            LayoutMinWidth: =Parent.LayoutMinWidth
                            LoadingSpinner: =LoadingSpinner.Data
                            OnSelect: |
                                =Navigate(DetailScreenSubstance, Transition.None, {displayItem: LookUp(Substances, ID = glrSubstanceListFinaltest_1.Selected.ID)})
                            TemplatePadding: =0
                            TemplateSize: =50
                            Width: =0.00
                            X: =0.00
                            ZIndex: =41

                            NextArrow1_4 As icon.ChevronRight:
                                AccessibleLabel: =Self.Tooltip
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(166, 166, 166, 1)
                                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                DisabledColor: =RGBA(244, 244, 244, 1)
                                Height: =Parent.TemplateHeight
                                Icon: =Icon.ChevronRight
                                OnSelect: =Select(Parent)
                                PaddingBottom: =15
                                PaddingLeft: =15
                                PaddingRight: =15
                                PaddingTop: =15
                                Tooltip: ="View substance testprogram"
                                Width: =1
                                ZIndex: =42

                            lblSubstanceRetest_3 As label:
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Parent.TemplateHeight
                                OnSelect: =Select(Parent)
                                PaddingLeft: =12
                                Size: =AppTheme.textsize.themeText
                                Text: =ThisItem.Name
                                Width: =300
                                ZIndex: =43

                            Rectangle1_5 As rectangle:
                                BorderColor: =App.Theme.Colors.Darker40
                                Fill: =RGBA(32, 54, 71, 1)
                                Height: =Parent.TemplateHeight - Separator1_4.Height
                                OnSelect: =Select(Parent)
                                Visible: =ThisItem.IsSelected
                                Width: =1
                                X: =0.00
                                ZIndex: =44

                            lblBatchRetest_3 As label:
                                Align: =Align.Center
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Parent.TemplateHeight
                                OnSelect: =Select(Parent)
                                Size: =AppTheme.textsize.themeText
                                Text: =ThisItem.Batch
                                Width: =200
                                X: =lblSubstanceRetest_3.Width
                                ZIndex: =45

                            lblRetestDate_3 As label:
                                Align: =Align.Right
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                Height: =Parent.TemplateHeight
                                OnSelect: =Select(Parent)
                                Size: =AppTheme.textsize.themeText
                                Text: =Text(DateValue(ThisItem.FinalTest), "yyyy-mm-dd")
                                Width: =250
                                X: =lblSubstanceRetest_3.Width + lblBatchRetest_3.Width
                                ZIndex: =46

                            Separator1_4 As rectangle:
                                BorderColor: =App.Theme.Colors.Darker40
                                Fill: =AppTheme.palette.themeTitleBar
                                Height: =2
                                OnSelect: =Select(Parent)
                                Width: =Parent.Width
                                X: =0.00
                                Y: =Parent.TemplateHeight - Self.Height
                                ZIndex: =47

